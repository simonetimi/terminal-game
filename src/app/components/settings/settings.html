<div class="fixed inset-0 bg-overlay flex items-center justify-center z-50">
  <div
    class="bg-panel border border-[var(--color-accent)] p-6 max-w-md w-full mx-4"
  >
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-bold text-[var(--color-accent)]">
        {{ "settings.title" | translate }}
      </h2>
      <button
        (click)="closeSettings()"
        class="text-[var(--color-accent)] hover:text-[var(--color-link)] text-3xl cursor-pointer"
        title="Close"
      >
        Ã—
      </button>
    </div>

    <div class="space-y-6">
      <div class="border-b border-[var(--color-accent)] pb-4">
        <h3 class="text-[var(--color-accent)] mb-2">
          {{ "settings.version" | translate | uppercase }}
        </h3>
        <p class="text-[var(--color-link)]">{{ appVersion }}</p>
      </div>

      <div>
        <h3 class="text-[var(--color-accent)] mb-2">
          {{ "settings.writingSpeed.title" | translate | uppercase }}
        </h3>
        <div class="flex items-center space-x-3">
          <label class="text-[var(--color-link)] text-sm">
            {{ "settings.writingSpeed.slow" | translate | uppercase }}</label
          >
          <input
            type="range"
            min="10"
            max="100"
            step="10"
            [value]="typewriterSpeed()"
            (input)="onTypewriterSpeedChange($event)"
            class="flex-1 accent-[var(--color-accent)]"
          />
          <label class="text-[var(--color-link)] text-sm">
            {{ "settings.writingSpeed.fast" | translate | uppercase }}</label
          >
        </div>
        <p class="text-[var(--color-link)] text-xs mt-1">
          {{ "settings.writingSpeed.speed" | translate }}:
          {{ typewriterSpeed() }}
        </p>
      </div>

      <div>
        <h3 class="text-[var(--color-accent)] mb-2">
          {{ "settings.audio.title" | translate | uppercase }}
        </h3>
        <label class="flex items-center space-x-2 cursor-pointer">
          <input
            type="checkbox"
            [checked]="soundsEnabled()"
            (change)="onSoundsToggle($event)"
            class="accent-[var(--color-accent)]"
          />
          <span class="text-[var(--color-link)]">
            {{
              soundsEnabled()
                ? ("settings.audio.enabled" | translate)
                : ("settings.audio.disabled" | translate)
            }}
          </span>
        </label>
      </div>

      <div>
        <h3 class="text-[var(--color-accent)] mb-2">
          {{ "settings.theme.title" | translate | uppercase }}
        </h3>
        <select
          class="w-full bg-panel border border-[var(--color-accent)] text-[var(--color-accent)] rounded px-2 py-2 focus:outline-none cursor-pointer"
          [ngModel]="currentTheme()"
          (ngModelChange)="onThemeChange($event)"
        >
          @for (theme of themeOptions; track theme) {
            <option [value]="theme" class="bg-panel text-[var(--color-accent)]">
              {{ "settings.theme.options." + theme | translate }}
            </option>
          }
        </select>
      </div>

      <div class="border-t border-[var(--color-accent)] pt-4">
        <h3 class="text-[var(--color-accent)] mb-2">
          {{ "settings.game.title" | translate | uppercase }}
        </h3>
        <button
          (click)="onRestartGame()"
          [class]="
            isRestarting()
              ? 'px-4 py-2 border border-[var(--color-accent)] bg-[var(--color-accent)] text-[var(--color-bg)] transition-colors cursor-pointer'
              : 'px-4 py-2 border border-[var(--color-accent)] text-[var(--color-accent)] hover:bg-[var(--color-accent)] hover:text-[var(--color-bg)] transition-colors cursor-pointer'
          "
        >
          {{
            isRestarting()
              ? ("settings.game.restartConfirm" | translate | uppercase)
              : ("settings.game.restart" | translate | uppercase)
          }}
        </button>
      </div>
    </div>

    <div class="mt-8 flex justify-center">
      <button
        (click)="closeSettings()"
        class="px-4 py-2 border border-[var(--color-accent)] text-[var(--color-accent)] hover:bg-[var(--color-accent)] hover:text-[var(--color-bg)] transition-colors cursor-pointer"
      >
        {{ "settings.close" | translate | uppercase }}
      </button>
    </div>
  </div>
</div>
